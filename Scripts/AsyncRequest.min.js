(function(n){"use strict";n.fn.asyncRequest=new function(){var t=this;return t.init=function(i){var r={};return n.extend(!0,r,n.asyncRequest.defaults),n.extend(!0,r,i),r.notification.notifyFunction===null&&(r.notification.notifyFunction=t.NotifyDefault),r},t.UnBlock=function(t,i){var r,u;if(t!==!1)for(t===null&&(t=window),r=0;r<n.fn.asyncRequest.blockArray.length;r++)u=n.fn.asyncRequest.blockArray[r].element,n(u).is(n(t))&&(n.fn.asyncRequest.blockArray[r].count>1?(i!=null&&i(),n.fn.asyncRequest.blockArray[r].count--):(n(t).unblock({onUnblock:i}),n.fn.asyncRequest.blockArray[r].count=0))},t.ConfigurarAntesRequest=function(i,r,u){var f,e,o,s,h,c;if((r.Msg===null||r.Msg===undefined)&&(r.Msg=i.loadTextTemplate.replace("${msg}",i.loadText)),r.Containner!==!1){for(f=r.Containner,f===null&&(f=window),o=null,e=0;e<n.fn.asyncRequest.blockArray.length;e++)if(o=n.fn.asyncRequest.blockArray[e].element,n(o).is(n(f))){n.fn.asyncRequest.blockArray[e].count==0&&n(f).block({message:r.Msg,blockMsgClass:i.cssBlockUI});n.fn.asyncRequest.blockArray[e].count++;break}else o=null;o==null&&(n.fn.asyncRequest.blockArray.push({element:f,count:1}),n(f).block({message:r.Msg,blockMsgClass:i.cssBlockUI}))}r.DataRequest=r.Data===null?{}:r.ContentType.indexOf("application/json")!==-1?JSON.stringify(r.Data):r.Data;r.SuccessFunction!==!1&&(s=r.SuccessFunction,r.SuccessFunction=function(n){if(r.UnblockMoment==="before"){var f=null;s!==null&&(f=function(){s(n)});t.UnBlock(r.Containner,f)}else s!==null&&s(n),t.UnBlock(r.Containner);t.ExecuteNotify(n,i,u,"success")});r.ErrorFunction!==!1&&(h=r.ErrorFunction,r.ErrorFunction=function(n){if(r.UnblockMoment==="before"){var f=null;h!==null&&(f=function(){h(n)});t.UnBlock(r.Containner,f)}else h!==null&&h(n),t.UnBlock(r.Containner);t.ExecuteNotify(n,i,u,"erro")});r.CompleteFunction!==!1&&(c=r.CompleteFunction,r.CompleteFunction=function(n){c!==null&&c(n)})},t.ConfigRequest=function(t,i){return n.ajax({type:t,url:i.Url,data:i.DataRequest,contentType:i.ContentType,success:i.SuccessFunction,error:i.ErrorFunction,complete:i.CompleteFunction,dataType:i.DataType,timeout:i.Timeout})},t.ExecuteNotify=function(n,t,i,r){t.notification.notifyFunction!==null&&t.notification.notifyCommandType.forEach(function(u){u===i&&t.notification.notifyFunction!==!1&&t.notification.notifyFunction(r,n,t)})},t.NotifyDefault=function(t,i,r){var u=null,f,o,e;n.jGrowl!==null?u=new asyncRequest_Notification_JGrowl(r.notification):n.noty!==null&&(u=new asyncRequest_Notification_Notfy(r.notification));switch(t){case"success":u.successNotify();break;case"erro":try{e=JSON.parse(i.responseText);f=e.errorMessage;o=e.ExceptionMessage+"<br/>"+e.StackTrace}catch(s){f=i.responseText!==null&&i.responseText!==""?i.responseText:i.Message===null?i.statusText:i.Message}u.erroNotify(f,o,!0);break;case"info":u.notifyInfo()}},t.getObjAsync=function(n){var i=t.init(n);return Object.create(i.asyncObject)},t.getAsync=function(n,i,r,u,f,e,o){var s=t.getObjAsync();s.Url=n;s.Data=i;s.SuccessFunction=u;s.ErrorFunction=f;s.Msg=e;s.Queue=o;s.Containner=r;t.get(s)},t.get=function(i,r){var u=t.init(r),f;return i=n.extend(!0,u.asyncObject,i),f=function(){return t.ConfigurarAntesRequest(u,i,"GET"),t.ConfigRequest("GET",i)},t.ExecuteFunction(i,f)},t.post=function(i,r){var u=t.init(r),f;return i=n.extend(!0,u.asyncObject,i),f=function(){return t.ConfigurarAntesRequest(u,i,"POST"),t.ConfigRequest("POST",i)},t.ExecuteFunction(i,f)},t.put=function(i,r){var u=t.init(r),f;return i=n.extend(!0,u.asyncObject,i),f=function(){return t.ConfigurarAntesRequest(u,i,"UPDATE"),t.ConfigRequest("UPDATE",i)},t.ExecuteFunction(i,f)},t["delete"]=function(i,r){var u=t.init(r),f;return i=n.extend(!0,u.asyncObject,i),f=function(){return t.ConfigurarAntesRequest(u,i),t.ConfigRequest("DELETE",i)},t.ExecuteFunction(i,f)},t.getAjax=function(){return n.asyncRequest.defaults.ajax},t.ExecuteFunction=function(t,i){var u=n.asyncRequest.defaults.queueUtil,f=u.configQueue(t),r;if(f!==null)r=u.getQueue(f),r.queue.push(function(){return i()}),r.Executing||(r.Executing=!0,r.queue.execute());else return i()},{getAsync:t.getAsync,get:t.get,post:t.post,put:t.put,"delete":t["delete"],getObjAsync:t.getObjAsync,getAjax:t.getAjax}};n.asyncRequest=n.fn.asyncRequest;n.fn.asyncRequest.blockArray=[];n.asyncRequest.defaults={ajax:n.ajax,loadText:"Carregando..",loadTextTemplate:"<div class='MenssagemLoad'><h4>${msg}<\/h4><\/div>",cssBlockUI:"asyncRequestBlockMsg",queueUtil:new asyncRequest_Queue,asyncObject:{Url:null,Data:null,Cache:!1,Containner:null,Msg:null,Queue:null,ContentType:"application/json; charset=utf-8",DataType:"json",UnblockMoment:"after",Timeout:0,SuccessFunction:null,ErrorFunction:null,CompleteFunction:null},notification:{notifyFunction:null,notifyCommandType:["POST","UPDATE","DELETE"],notifyTemplate:"<div><div class='notificationTemplate'><p><\/p><p class='notificationTemplateMsg'>${msg}<\/p><\/div><\/div>",notifyTemplateErro:"<div><div class='notificationTemplate'><p><\/p><p class='notificationTemplateMsg'>${msg}<\/p><br/><ul class='msgStack'><li><a onclick=\"$(this).parent().parent().find('li:last').toggle();\">${fullErroText}<\/a><\/li><li>${msgStack}<\/li><\/ul><\/div><\/div>",notificationSuccessMsgDefault:"Operação realizada com sucesso",notificationErrorMsgDefault:"Ocorreu um erro ao realizar a operação",fullErroText:"Erro Completo"}}})(jQuery);
//# sourceMappingURL=AsyncRequest.min.js.map